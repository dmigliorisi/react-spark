{"ast":null,"code":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { TODO_ONCHANGE, TODO_ADD, TODO_DELETE } from '../constants/actionTypes';\nexport const initialState = {\n  // this is a TODO item which has one \"value\" property\n  item: {\n    value: ''\n  },\n  // this is a list of the TODO items\n  data: []\n};\nexport default ((state = initialState, action) => {\n  // receive the type and item, which is defined in the `actions/index.ts`\n  const {\n    type,\n    item\n  } = action;\n\n  switch (type) {\n    case TODO_ONCHANGE:\n      {\n        // BE CAREFUL!!!\n        // DON'T USE THE REFERENCE LIKE THIS:\n        //\n        //     state.item = item;\n        //     return state; // this `state` is \"previous\" state!\n        //\n        // Please create a new instance because that is a \"next\" state\n        //\n        return Object.assign({}, state, {\n          item\n        });\n      }\n\n    case TODO_ADD:\n      {\n        // if the `item.value` is empty, return the \"previous\" state (skip)\n        if (item.value === '') {\n          return state;\n        }\n\n        return Object.assign({}, state, {\n          // clear the `item.value`\n          item: {\n            value: ''\n          },\n          // create a new array instance and push the item\n          data: [...state.data, item]\n        });\n      }\n\n    case TODO_DELETE:\n      {\n        // don't use `state.data` directly\n        const {\n          data\n        } = state,\n              restState = _objectWithoutProperties(state, [\"data\"]); // `[...data]` means a new instance of the `data` array\n        // and filter them and remove the target TODO item\n\n\n        const updated = [...data].filter(_item => _item.value !== item.value);\n        return Object.assign({}, restState, {\n          data: updated\n        });\n      }\n    // do nothing\n\n    default:\n      {\n        return state;\n      }\n  }\n});","map":{"version":3,"sources":["/Users/dmigliorisi/Code/react-spark/cli/templates/redux/reducers/todo.js"],"names":["TODO_ONCHANGE","TODO_ADD","TODO_DELETE","initialState","item","value","data","state","action","type","Object","assign","restState","updated","filter","_item"],"mappings":";;;;AAAA,SACEA,aADF,EAEEC,QAFF,EAGEC,WAHF,QAIO,0BAJP;AAMA,OAAO,MAAMC,YAAY,GAAG;AAC1B;AACAC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE;AADH,GAFoB;AAK1B;AACAC,EAAAA,IAAI,EAAE;AANoB,CAArB;AASP,gBAAe,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC/C;AACA,QAAM;AACJC,IAAAA,IADI;AAEJL,IAAAA;AAFI,MAGFI,MAHJ;;AAKA,UAAQC,IAAR;AACE,SAAKT,aAAL;AAAoB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAOU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9BH,UAAAA;AAD8B,SAAzB,CAAP;AAGD;;AAED,SAAKH,QAAL;AAAe;AACb;AACA,YAAIG,IAAI,CAACC,KAAL,KAAe,EAAnB,EAAuB;AACrB,iBAAOE,KAAP;AACD;;AAED,eAAOG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9B;AACAH,UAAAA,IAAI,EAAE;AACJC,YAAAA,KAAK,EAAE;AADH,WAFwB;AAK9B;AACAC,UAAAA,IAAI,EAAE,CACJ,GAAIC,KAAK,CAACD,IADN,EAEJF,IAFI;AANwB,SAAzB,CAAP;AAWD;;AAED,SAAKF,WAAL;AAAkB;AAChB;AACA,cAAM;AAAEI,UAAAA;AAAF,YAAyBC,KAA/B;AAAA,cAAiBK,SAAjB,4BAA+BL,KAA/B,YAFgB,CAIhB;AACA;;;AACA,cAAMM,OAAO,GAAG,CAAC,GAAGP,IAAJ,EAAUQ,MAAV,CAAiBC,KAAK,IAAIA,KAAK,CAACV,KAAN,KAAgBD,IAAI,CAACC,KAA/C,CAAhB;AAEA,eAAOK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBC,SAAlB,EAA6B;AAClCN,UAAAA,IAAI,EAAEO;AAD4B,SAA7B,CAAP;AAGD;AAED;;AACA;AAAS;AACP,eAAON,KAAP;AACD;AAlDH;AAoDD,CA3DD","sourcesContent":["import {\n  TODO_ONCHANGE,\n  TODO_ADD,\n  TODO_DELETE,\n} from '../constants/actionTypes';\n\nexport const initialState = {\n  // this is a TODO item which has one \"value\" property\n  item: {\n    value: '',\n  },\n  // this is a list of the TODO items\n  data: [],\n};\n\nexport default (state = initialState, action) => {\n  // receive the type and item, which is defined in the `actions/index.ts`\n  const {\n    type,\n    item,\n  } = action;\n\n  switch (type) {\n    case TODO_ONCHANGE: {\n      // BE CAREFUL!!!\n      // DON'T USE THE REFERENCE LIKE THIS:\n      //\n      //     state.item = item;\n      //     return state; // this `state` is \"previous\" state!\n      //\n      // Please create a new instance because that is a \"next\" state\n      //\n      return Object.assign({}, state, {\n        item,\n      });\n    }\n\n    case TODO_ADD: {\n      // if the `item.value` is empty, return the \"previous\" state (skip)\n      if (item.value === '') {\n        return state;\n      }\n\n      return Object.assign({}, state, {\n        // clear the `item.value`\n        item: {\n          value: '',\n        },\n        // create a new array instance and push the item\n        data: [\n          ...(state.data),\n          item,\n        ],\n      });\n    }\n\n    case TODO_DELETE: {\n      // don't use `state.data` directly\n      const { data, ...restState } = state;\n\n      // `[...data]` means a new instance of the `data` array\n      // and filter them and remove the target TODO item\n      const updated = [...data].filter(_item => _item.value !== item.value);\n\n      return Object.assign({}, restState, {\n        data: updated,\n      });\n    }\n\n    // do nothing\n    default: {\n      return state;\n    }\n  }\n};\n\n"]},"metadata":{},"sourceType":"module"}